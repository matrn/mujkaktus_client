#!/usr/bin/env python3
t = '<div id="u80584eb3c1904eb2a234e74b1adf8beb"><p><span class="text-1">101,4 </span><span class="text-2">Kč</span></p><p>Platnost do 15.04.2019</p></div><div id="uae1db2a3fb5d4860bd78532a0a928f42"><div class="box-cell"><form method="post" action="https://www.mujkaktus.cz/moje-sluzby?p_p_auth=NR2gVwsO&p_p_id=kaktusvcc_WAR_vcc&p_p_lifecycle=2&p_p_state=normal&p_p_mode=view&p_p_cacheability=cacheLevelPage" class="ajax"><fieldset><legend class="hide">Můj přehled</legend><input name="pageId" value="u3ca6f7ffb46544e98c67a24a59e546a4" type="hidden"/><div id="ud5501db414b9418fbc49f1be9ab95f95" class="box-padding"><div id="ud953bb06236c407587bcc24a4cb2fa70" class="equal-height"><p><span class="text-2">0:00</span><br/>minut</p><p></p></div><p><span class="ico ico-package-recurrent">samoobnovující</span></p><div class="action-zone"><a href="https://www.mujkaktus.cz/moje-sluzby?p_auth=8QOEf2zQ&p_p_auth=NR2gVwsO&p_p_id=kaktusvcc_WAR_vcc&p_p_lifecycle=1&p_p_state=normal&p_p_mode=view&_kaktusvcc_WAR_vcc_from=dashboard&_kaktusvcc_WAR_vcc_moduleCode=wholesalePrepaidFreeUnits" class="button">Koupit</a> </div></div></fieldset></form></div><div class="box-cell"><form method="post" action="https://www.mujkaktus.cz/moje-sluzby?p_p_auth=NR2gVwsO&p_p_id=kaktusvcc_WAR_vcc&p_p_lifecycle=2&p_p_state=normal&p_p_mode=view&p_p_cacheability=cacheLevelPage" class="ajax"><fieldset><legend class="hide">Můj přehled</legend><input name="pageId" value="u3ca6f7ffb46544e98c67a24a59e546a4" type="hidden"/><div id="uf3e4f9bb5eb54b2aa88870f21760a9eb" class="box-padding"><div id="ue6e09bd3a25344f1a3436e7f983d6a39" class="equal-height"><p><span class="text-2">0</span><br/>SMS</p><p></p></div><p><span class="ico ico-package-recurrent">samoobnovující</span></p><div class="action-zone"><a href="https://www.mujkaktus.cz/moje-sluzby?p_auth=8QOEf2zQ&p_p_auth=NR2gVwsO&p_p_id=kaktusvcc_WAR_vcc&p_p_lifecycle=1&p_p_state=normal&p_p_mode=view&_kaktusvcc_WAR_vcc_from=dashboard&_kaktusvcc_WAR_vcc_moduleCode=wholesalePrepaidFreeUnits" class="button">Koupit</a> </div></div></fieldset></form></div><div class="box-cell"><form method="post" action="https://www.mujkaktus.cz/moje-sluzby?p_p_auth=NR2gVwsO&p_p_id=kaktusvcc_WAR_vcc&p_p_lifecycle=2&p_p_state=normal&p_p_mode=view&p_p_cacheability=cacheLevelPage" class="ajax"><fieldset><legend class="hide">Můj přehled</legend><input name="pageId" value="u3ca6f7ffb46544e98c67a24a59e546a4" type="hidden"/><div id="u6cea944837ff414f826dd72a7f277bcd" class="box-padding"><div id="u1cd6af88ef0c4102905d8fbce4471956" class="equal-height"><div id="u1e011b2217904f2183beec2a99a81af2" class="clearfix"><div id="u5dedfaa1cb244628afe9df608b417559" class="col col-1-3"><p><span class="text-2">0</span><span class="block">MB</span><span class="text-small">Normální data</span></p></div><div id="ua0840f0e8da54fe7940470277ff37263" class="col col-1-3"><p><span class="text-2">+</span></p></div><div id="u5aceb72a7594b30ad2c33c3535c5b8f" class="col col-1-3"><p><span class="text-2">0</span><span class="block">MB</span><span class="text-small">Data na sociální sítě</span></p></div></div><p></p></div><p><span class="ico ico-package-recurrent">samoobnovující</span></p><div class="action-zone"><a href="https://www.mujkaktus.cz/moje-sluzby?p_auth=8QOEf2zQ&p_p_auth=NR2gVwsO&p_p_id=kaktusvcc_WAR_vcc&p_p_lifecycle=1&p_p_state=normal&p_p_mode=view&_kaktusvcc_WAR_vcc_from=dashboard&_kaktusvcc_WAR_vcc_moduleCode=wholesalePrepaidFreeUnits" class="button">Koupit</a> </div></div></fieldset></form></div></div>'
t2 = '<div id="ubd76d17042f2413cb7469e2c04a88cf6"><p><span class="text-1">49 </span><span class="text-2">Kč</span></p><p>Platnost do 15.04.2019</p></div><div id="u7ac1a0ce5c254d828c3890bc22c24325"><div class="box-cell"><form method="post" action="https://www.mujkaktus.cz/moje-sluzby?p_p_auth=5yK2v1Ih&p_p_id=kaktusvcc_WAR_vcc&p_p_lifecycle=2&p_p_state=normal&p_p_mode=view&p_p_cacheability=cacheLevelPage" class="ajax"><fieldset><legend class="hide">Můj přehled</legend><input name="pageId" value="u5c20be99349249f5b9bbf0f2b4638df4" type="hidden"/><div id="u2c4256d49f4d4ea1af6b508ac98f5288" class="box-padding"><div id="ub7d634ce884b403a8c75832d74f283d9" class="equal-height"><p><span class="text-2">0:00</span><br/>minut</p><p></p></div><p><span class="ico ico-package-recurrent">samoobnovující</span></p><div class="action-zone"><a href="https://www.mujkaktus.cz/moje-sluzby?p_auth=fhBGJ24C&p_p_auth=5yK2v1Ih&p_p_id=kaktusvcc_WAR_vcc&p_p_lifecycle=1&p_p_state=normal&p_p_mode=view&_kaktusvcc_WAR_vcc_from=dashboard&_kaktusvcc_WAR_vcc_moduleCode=wholesalePrepaidFreeUnits" class="button">Koupit</a> </div></div></fieldset></form></div><div class="box-cell"><form method="post" action="https://www.mujkaktus.cz/moje-sluzby?p_p_auth=5yK2v1Ih&p_p_id=kaktusvcc_WAR_vcc&p_p_lifecycle=2&p_p_state=normal&p_p_mode=view&p_p_cacheability=cacheLevelPage" class="ajax"><fieldset><legend class="hide">Můj přehled</legend><input name="pageId" value="u5c20be99349249f5b9bbf0f2b4638df4" type="hidden"/><div id="u6f35aaa1c4734d7290bfed10192a61df" class="box-padding"><div id="u2c050d53f84d46a7adf64137cba71e1b" class="equal-height"><p><span class="text-2">0</span><br/>SMS</p><p></p></div><p><span class="ico ico-package-recurrent">samoobnovující</span></p><div class="action-zone"><a href="https://www.mujkaktus.cz/moje-sluzby?p_auth=fhBGJ24C&p_p_auth=5yK2v1Ih&p_p_id=kaktusvcc_WAR_vcc&p_p_lifecycle=1&p_p_state=normal&p_p_mode=view&_kaktusvcc_WAR_vcc_from=dashboard&_kaktusvcc_WAR_vcc_moduleCode=wholesalePrepaidFreeUnits" class="button">Koupit</a> </div></div></fieldset></form></div><div class="box-cell"><form method="post" action="https://www.mujkaktus.cz/moje-sluzby?p_p_auth=5yK2v1Ih&p_p_id=kaktusvcc_WAR_vcc&p_p_lifecycle=2&p_p_state=normal&p_p_mode=view&p_p_cacheability=cacheLevelPage" class="ajax"><fieldset><legend class="hide">Můj přehled</legend><input name="pageId" value="u5c20be99349249f5b9bbf0f2b4638df4" type="hidden"/><div id="uc371148f115e45ab8022df5cfe264a99" class="equal-height"><p><span class="text-1">73</span><br/>MB<br/>Platnost do<br/>20.02.2019</p></div><p><p><span class="ico ico-package-simple">jednorázový</span></p></p><div class="action-zone"><a href="https://www.mujkaktus.cz/moje-sluzby?p_auth=fhBGJ24C&p_p_auth=5yK2v1Ih&p_p_id=kaktusvcc_WAR_vcc&p_p_lifecycle=1&p_p_state=normal&p_p_mode=view&_kaktusvcc_WAR_vcc_from=dashboard&_kaktusvcc_WAR_vcc_moduleCode=wholesalePrepaidFreeUnits" class="button">Dokoupit</a> </div></fieldset></form></div></div>'

from bs4 import BeautifulSoup

soup = BeautifulSoup(t, 'html.parser')
text_1 = soup.findAll("span", { "class" : "text-1" })
text_2 = soup.findAll("span", { "class" : "text-2" })

credit = text_1[0]
currency = text_2[0]

span = soup.findAll("span")
p = soup.findAll("p")


credit = ""
credit_unit = "Kč"
credit_expire = ""
credit_expire_unit = "Platnost do"

minutes = ""
minutes_unit = "minut"
minutes_type = ""

sms = ""
sms_unit = "SMS"
sms_type = ""

mb_normal = ""
mb_social = ""
mb_type = ""

renew_keyword = "samoobnov"
once_keyword = "jednor"

#print(span)
prev = ""
for elm in p:
	if len(elm.text) != 0:
		print(elm)
		
		elm_s = str(elm)
		#s = BeautifulSoup(elm, "html.parser")

		if credit_unit.lower() in elm_s.lower():   #credit
			credit = str(elm.find("span", { "class" : "text-1"}).text).lstrip()
			prev = "credit"
		
		if credit_expire_unit.lower() in elm_s.lower() and len(credit) != 0:   #credit expiration
			credit_expire = str(elm.text).replace(credit_expire_unit, "").lstrip()
			prev = "credit"


		if minutes_unit.lower() in elm_s.lower():   #minutes
			minutes = str(elm.find("span", { "class" : "text-2"}).text).lstrip()
			prev = "mins"


		if sms_unit.lower() in elm_s.lower():   #minutes
			sms = str(elm.find("span", { "class" : "text-2"}).text).lstrip()
			prev = "sms"


		if renew_keyword.lower() in elm_s.lower() or once_keyword.lower() in elm_s.lower():
			if prev == "mins": minutes_type = renew_keyword
			if prev == "sms": sms_type = renew_keyword

			prev = "type"



print("Credit: " + credit + " " + credit_unit)
print("Credit expiration: " + credit_expire)

print("Minutes: " + minutes + " " + minutes_unit + " " + minutes_type)
print("SMS: " + sms + " " + sms_unit + " " + sms_type)
#print(text_1)
#print(text_2)